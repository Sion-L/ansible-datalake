[mysqld]
server-id={{ server_id }}
log-bin={{ mysql_binlog_file }}
expire_logs_days=7
binlog_format=row
log_bin_trust_function_creators=1
  
slow_query_log=1
slow_query_log_file={{ mysql_slowlog_file }}
max_connections=1000
  
bind-address=0.0.0.0
port=3306
user=mysql
basedir={{ mysql_install_dir }}
datadir={{ mysql_data_dir }}

socket=/tmp/mysql.sock
log-error={{ mysql_logs_dir }}/mysql.err
pid-file={{ mysql_data_dir }}/mysql.pid
#character config
character_set_server=utf8mb4
symbolic-links=0
explicit_defaults_for_timestamp=true
innodb_force_recovery=0
  
innodb_log_file_size=128M
innodb_log_files_in_group=4
innodb_buffer_pool_size=1536M
innodb_buffer_pool_instances=2
#innodb_flush_log_at_trx_commit=2
  
[mysql]
socket=/tmp/mysql.sock
  
[client]
socket=/tmp/mysql.sock
